I"Ô<h3 id="introduction">Introduction</h3>

<p>Sometimes when you want to create a â€˜read moreâ€™ link, it is overkill to create a whole new page. In that case a text expand functionality, using javascript is very useful. On this website it is used for clarity and brevity.</p>

<h3 id="how-it-works">How it works</h3>

<p>The script looks for an <code>[expand]</code> tag on a single line and then looks for the <code>[/expand]</code> tag (again on a single line, thus being the only content of its paragraph). When it finds these it will add some classes and hide everything in between. It will show a â€˜read more â†’â€™ link, indicating the text can be expanded.</p>

<p>[expand]</p>

<pre><code>&lt;script&gt;
    
    var elements = document.querySelectorAll('p');
    Array.prototype.forEach.call(elements, function(el, i){
        if(el.innerHTML=='[expand]') {
            var parentcontent = el.parentNode.innerHTML.replace('&lt;p&gt;[expand]&lt;/p&gt;','&lt;div class="expand" style="display: none; height: 0; overflow: hidden;"&gt;').replace('&lt;p&gt;[/expand]&lt;/p&gt;','&lt;/div&gt;');
            el.parentNode.innerHTML = parentcontent;
        }
    });

    var elements = document.querySelectorAll('div.expand');
    Array.prototype.forEach.call(elements, function(el, i){
        el.previousElementSibling.innerHTML = el.previousElementSibling.innerHTML + '&lt;span&gt;..&amp;nbsp; &lt;a href="#" style="cursor: pointer;" onclick="this.parentNode.parentNode.nextElementSibling.style.display = \'block\'; this.parentNode.parentNode.nextElementSibling.style.height = \'auto\'; this.parentNode.style.display = \'none\';"&gt;read&amp;nbsp;more&amp;nbsp;&amp;rarr;&lt;/a&gt;&lt;/span&gt;';
    });

&lt;/script&gt;
</code></pre>

<p>[/expand]</p>

<h3 id="installation">Installation</h3>

<p>Step 1. Download the file <a href="https://raw.githubusercontent.com/jhvanderschee/jekyllcodex/gh-pages/_includes/text-expand.html">text-expand.html</a>
<br />Step 2. Save the file in the â€˜_includesâ€™ directory of your project
<br />Step 3. Make sure the bottom of your layout document looks like this:</p>

<pre><code>...
&lt;script src="/js/jquery.min.js"&gt;&lt;/script&gt;
{% include text-expand.html %}
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
:ET